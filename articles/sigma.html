<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Controlling the time/frequency resolution • fCWTr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Controlling the time/frequency resolution">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fCWTr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/sigma.html">Controlling the time/frequency resolution</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lschneiderbauer/fCWTr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Controlling the time/frequency resolution</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lschneiderbauer/fCWTr/blob/master/vignettes/sigma.Rmd" class="external-link"><code>vignettes/sigma.Rmd</code></a></small>
      <div class="d-none name"><code>sigma.Rmd</code></div>
    </div>

    
    
<p>The continuous wavelet transform (CWT) essentially evaluates a
correlation function of the input signal with shifted and scaled Morlet
wavelets. A Morlet wavelet is a sinusoidal wave packet modulated by a
Gaussian envelope. The spread of Gaussian envelope is what controls the
time/frequency balance of the FCWT result.</p>
<p>In contrast to the <a href="https://en.wikipedia.org/wiki/Short-time_Fourier_transform" class="external-link">Short
Time Fourier Transform</a>, where the window size does not depend on the
frequency, the CWT models a frequency-dependent window size by the
frequency depending spread of the Gaussian envelope.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;That is of course one of the selling points of the CWT:
it works for all frequency ranges, while the fixed window size in the
Short Time Fourier Transform will break down when probing modes whose
wavelength approach the window size, at the same time it lacks a
reasonable time resolutions for modes whose wavelength is much smaller
than the window size.&lt;/p&gt;"><sup>1</sup></a></p>
<p>For a particular time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>
and a reference frequency
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math>,
the Gaussian envelope
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">g(t)</annotation></semantics></math>
of the wavelet is given by
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>∼</mo><msup><mi>e</mi><mrow><mo>−</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><mi>t</mi><mi>f</mi></mrow><mrow><mn>2</mn><mi>Σ</mi></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msup></mrow><annotation encoding="application/x-tex">g(t) \sim e^{-\left( \frac{t f}{2 \Sigma} \right)^2}</annotation></semantics></math>
with variance in time
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>σ</mi><mi>t</mi></msub><mo>=</mo><mfrac><mi>Σ</mi><mi>f</mi></mfrac></mrow><annotation encoding="application/x-tex">\sigma_t=\frac{\Sigma}{f}</annotation></semantics></math>
which also sets the scale for the effective time resolution of the CWT
at frequency
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math>
and a dimensionless parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Σ</mi><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math>,.
The corresponding frequency uncertainty is given by the spreading of the
Gaussian in Fourier space:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>σ</mi><mi>f</mi></msub><mo>=</mo><mfrac><mi>f</mi><mrow><mn>2</mn><mi>π</mi><mi>Σ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\sigma_f = \frac{f}{2\pi \Sigma}</annotation></semantics></math>.
The time and frequency resolution satisfy the famous time-frequency
uncertainty relation
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>σ</mi><mi>t</mi></msub><msub><mi>σ</mi><mi>f</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>π</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\sigma_t \sigma_f=\frac{1}{2\pi}</annotation></semantics></math>.</p>
<p>The time-frequency uncertainty relation is true for any
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Σ</mi><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math>
or frequency
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi><annotation encoding="application/x-tex">f</annotation></semantics></math>,
but we can adjust the parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Σ</mi><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math>
to increase (decrease) time uncertainty at the cost of decreasing
(increasing) the frequency uncertainty. The “correct” balance depends on
your use case.</p>
<div class="section level2">
<h2 id="from-uncertainty-to-resolution">From uncertainty to resolution<a class="anchor" aria-label="anchor" href="#from-uncertainty-to-resolution"></a>
</h2>
<p>So what time and frequency resolution
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Δ</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\Delta t</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Δ</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">\Delta f</annotation></semantics></math>
can we expect from a certain value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Σ</mi><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math>?
The resolution is set by the Gaussian spread which in turn is quantified
by the uncertainties
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>σ</mi><mi>t</mi></msub><annotation encoding="application/x-tex">\sigma_t</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>σ</mi><mi>f</mi></msub><annotation encoding="application/x-tex">\sigma_f</annotation></semantics></math>.</p>
<p>Interpreting the Gaussian as a window function, we expect that in
order to achieve a certain resolution
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Δ</mi><mi>t</mi></msub><annotation encoding="application/x-tex">\Delta_t</annotation></semantics></math>
the window size needs to be at least equal (or smaller) than
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Δ</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\Delta t</annotation></semantics></math>.
Since a Gaussian has infinite support, we need to make a more or less
arbitrary decision on where the exponential falloff of the Gaussian is
close enough to zero for our liking.</p>
<p><a href="https://upload.wikimedia.org/wikipedia/commons/3/3a/Standard_deviation_diagram_micro.svg" class="external-link"><img src="images%2FStandard_deviation_diagram.svg" style="width:100.0%" alt="Ainali, CC BY-SA 3.0 &lt;https://creativecommons.org/licenses/by-sa/3.0&gt;, via Wikimedia Commons"></a></p>
<p>In our case we decide that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mspace width="0.167em"></mspace><mi>σ</mi></mrow><annotation encoding="application/x-tex">4\,\sigma</annotation></semantics></math>
is the effective width of our window function, and so we expect an
effective resolution of</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Δ</mi><mi>t</mi><mo>:=</mo><mn>4</mn><mfrac><mi>Σ</mi><mi>f</mi></mfrac></mrow><annotation encoding="application/x-tex">\Delta t:=4\frac{Σ}{f}</annotation></semantics></math></p>
<p>and</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Δ</mi><mi>f</mi><mo>:=</mo><mn>4</mn><mfrac><mi>f</mi><mrow><mn>2</mn><mi>π</mi><mi>Σ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\Delta f:=4\frac{f}{2πΣ}</annotation></semantics></math></p>
</div>
<div class="section level2">
<h2 id="example-piano-keys">Example: Piano keys<a class="anchor" aria-label="anchor" href="#example-piano-keys"></a>
</h2>
<p>Let’s try to understand the meaning of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Σ</mi><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math>
via an example: We would like to analyse piano music, and be able to at
least distinguish different piano key frequencies.</p>
<p>We can for example check what the resolutions corresponding to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Σ</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\Sigma=1</annotation></semantics></math>
at the key A4 (440 Hz) is with helper functions that implement the
formulas above:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lschneiderbauer.github.io/fCWTr/" class="external-link">fCWTr</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sigma_resolution.html">sigma_resolution</a></span><span class="op">(</span>sigma <span class="op">=</span> <span class="fl">1</span>, <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $time</span></span>
<span><span class="co">#&gt; 0.009090909 [1/Hz]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $freq</span></span>
<span><span class="co">#&gt; 280.1127 [Hz]</span></span></code></pre></div>
<p>We see now, with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Σ</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\Sigma=1</annotation></semantics></math>,
our frequency resolution at 440 Hz is only 280 Hz! The spreading is way
too high to be able to distinguish different keys (the next key A#4 is
at 466 Hz and the previous key Ab4 is at 415 Hz), we need to able at
least to resolve the difference, 15 Hz. We can use another helper
function to check what the corresponding
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Σ</mi><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math>
should be:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sigma_from_frequency_resolution.html">sigma_from_frequency_resolution</a></span><span class="op">(</span><span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">15</span>, <span class="st">"Hz"</span><span class="op">)</span>, <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 18.67418</span></span></code></pre></div>
<p>and it tells us we need
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Σ</mi><mo>=</mo><mn>19</mn></mrow><annotation encoding="application/x-tex">\Sigma=19</annotation></semantics></math>
or higher. Let’s double-check what that implies for the time
resolution:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sigma_resolution.html">sigma_resolution</a></span><span class="op">(</span>sigma <span class="op">=</span> <span class="fl">19</span>, <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $time</span></span>
<span><span class="co">#&gt; 0.1727273 [1/Hz]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $freq</span></span>
<span><span class="co">#&gt; 14.74277 [Hz]</span></span></code></pre></div>
<p>That means, we can detect those frequencies with a time resolution of
170 milliseconds. A typical very fast piano beat is around 180 beats per
minutes (&gt; Prestissimo), that means, 3 beats per seconds, and the
required time resolution to detect that is at least 330 milliseconds:
our time resolution is still below that, so we are on the safe side.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;As an interesting side note, we do not have a whole lot
of leeway, and when playing a fast piano piece we are already at the
edge of what we we can resolve (that is, when only playing a single
frequency note, when playing a lot of different notes, we probably can
still resolve a faster beat).&lt;/p&gt;"><sup>2</sup></a></p>
<p>Let’s compare these settings in practice. As an example serves a
simple piano sample playing a couple of 440 Hz notes in the beginning
and some simple chords in the end.</p>
<div class="section level3">
<h3 id="high-time-resolution-low-frequency-resolution">High time resolution, low frequency resolution<a class="anchor" aria-label="anchor" href="#high-time-resolution-low-frequency-resolution"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sigma_resolution.html">sigma_resolution</a></span><span class="op">(</span>sigma <span class="op">=</span> <span class="fl">1</span>, <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $time</span></span>
<span><span class="co">#&gt; 0.009090909 [1/Hz]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $freq</span></span>
<span><span class="co">#&gt; 280.1127 [Hz]</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in get(paste0(generic, ".", class), envir = get_method_env()) : </span></span>
<span><span class="co">#&gt;   object 'type_sum.accel' not found</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fcwt_batch.html">fcwt_batch</a></span><span class="op">(</span></span>
<span>  <span class="va">ts_piano_sample</span>,</span>
<span>  sample_freq <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">44.1</span>, <span class="st">"kHz"</span><span class="op">)</span> <span class="op">/</span> <span class="fl">4</span>,</span>
<span>  freq_begin <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">220</span>, <span class="st">"Hz"</span><span class="op">)</span>,</span>
<span>  freq_end <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">4</span>,</span>
<span>  <span class="co"># 5 octaves, 12 keys per octave, 3 frequencies per key</span></span>
<span>  n_freqs <span class="op">=</span> <span class="fl">12</span> <span class="op">*</span> <span class="fl">5</span> <span class="op">*</span> <span class="fl">3</span>,</span>
<span>  sigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  freq_scale <span class="op">=</span> <span class="st">"log"</span>,</span>
<span>  time_resolution <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">100</span>, <span class="st">"ms"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sigma_files/figure-html/unnamed-chunk-6-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="good-middle-ground">Good middle ground<a class="anchor" aria-label="anchor" href="#good-middle-ground"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sigma_resolution.html">sigma_resolution</a></span><span class="op">(</span>sigma <span class="op">=</span> <span class="fl">19</span>, <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $time</span></span>
<span><span class="co">#&gt; 0.1727273 [1/Hz]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $freq</span></span>
<span><span class="co">#&gt; 14.74277 [Hz]</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/fcwt_batch.html">fcwt_batch</a></span><span class="op">(</span></span>
<span>  <span class="va">ts_piano_sample</span>,</span>
<span>  sample_freq <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">44.1</span>, <span class="st">"kHz"</span><span class="op">)</span> <span class="op">/</span> <span class="fl">4</span>,</span>
<span>  freq_begin <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">220</span>, <span class="st">"Hz"</span><span class="op">)</span>,</span>
<span>  freq_end <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">4</span>,</span>
<span>  <span class="co"># 5 octaves, 12 keys per octave, 3 frequencies per key</span></span>
<span>  n_freqs <span class="op">=</span> <span class="fl">12</span> <span class="op">*</span> <span class="fl">5</span> <span class="op">*</span> <span class="fl">3</span>,</span>
<span>  sigma <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  freq_scale <span class="op">=</span> <span class="st">"log"</span>,</span>
<span>  time_resolution <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">100</span>, <span class="st">"ms"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sigma_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="low-time-resolution-high-frequency-resolution">Low time resolution, high frequency resolution<a class="anchor" aria-label="anchor" href="#low-time-resolution-high-frequency-resolution"></a>
</h3>
<p>Note that with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Σ</mi><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">\Sigma=100</annotation></semantics></math>
we have</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sigma_resolution.html">sigma_resolution</a></span><span class="op">(</span>sigma <span class="op">=</span> <span class="fl">100</span>, <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $time</span></span>
<span><span class="co">#&gt; 0.9090909 [1/Hz]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $freq</span></span>
<span><span class="co">#&gt; 2.801127 [Hz]</span></span></code></pre></div>
<p>and so we barely have a time resolution of one second. As we can see
we can not resolve the beats between second 12 and 18 anymore:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fcwt_batch.html">fcwt_batch</a></span><span class="op">(</span></span>
<span>  <span class="va">ts_piano_sample</span>,</span>
<span>  sample_freq <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">44.1</span>, <span class="st">"kHz"</span><span class="op">)</span> <span class="op">/</span> <span class="fl">4</span>,</span>
<span>  freq_begin <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">220</span>, <span class="st">"Hz"</span><span class="op">)</span>,</span>
<span>  freq_end <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">440</span>, <span class="st">"Hz"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">4</span>,</span>
<span>  <span class="co"># 5 octaves, 12 keys per octave, 3 frequencies per key</span></span>
<span>  n_freqs <span class="op">=</span> <span class="fl">12</span> <span class="op">*</span> <span class="fl">5</span> <span class="op">*</span> <span class="fl">3</span>,</span>
<span>  sigma <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  freq_scale <span class="op">=</span> <span class="st">"log"</span>,</span>
<span>  time_resolution <span class="op">=</span> <span class="fu"><a href="../reference/u.html">u</a></span><span class="op">(</span><span class="fl">100</span>, <span class="st">"ms"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sigma_files/figure-html/unnamed-chunk-10-1.png" width="100%"></p>
<p>In some way,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Σ</mi><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math>
can be thought of the exposure time of a camera that has to adjusted
manually. Is the exposure time too long the picture becomes blurry, is
it too short, the picture becomes too dark to see anything. A good
balance is the key to a good photo.</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lukas Schneiderbauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
